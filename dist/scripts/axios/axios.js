"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=$axios;var _axios=require("axios"),_axios2=_interopRequireDefault(_axios),_config=require("./config"),_config2=_interopRequireDefault(_config);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function $axios(a){return new Promise(function(s,r){var e=_axios2.default.create({baseURL:_config2.default.baseURL,headers:{},transformResponse:[function(e){return e}]});e.interceptors.request.use(function(e){return e.headers={"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},e},function(e){console.log("request:",e),"ECONNABORTED"===e.code&&-1!==e.message.indexOf("timeout")&&console.log("timeout 请求超时");var s=e.response;if(console.log(s),s)s.status;return Promise.reject(e)}),e.interceptors.response.use(function(s){var e=void 0;try{e=void 0===s.data?JSON.parse(s.request.responseText):JSON.parse(s.data)}catch(e){return s.data}switch(e.rc){case 1:console.log(e.desc)}return e},function(e){if(e&&e.response)switch(e.response.status){case 400:e.message="请求错误";break;case 401:e.message="未授权，请登录";break;case 403:e.message="拒绝访问";break;case 404:e.message="请求地址出错: "+e.response.config.url;break;case 408:e.message="请求超时";break;case 500:e.message="服务器内部错误";break;case 501:e.message="服务未实现";break;case 502:e.message="网关错误";break;case 503:e.message="服务不可用";break;case 504:e.message="网关超时";break;case 505:e.message="HTTP 版本不受支持"}return console.error(e),Promise.reject(e)}),e(a).then(function(e){return s(e),!1}).catch(function(e){r(e)})})}